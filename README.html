<h1 class="code-line" data-line-start=0 data-line-end=1 ><a id="Gesto_de_Refeies_0"></a>Gestão de Refeições</h1>
<h4 class="code-line" data-line-start=1 data-line-end=2 ><a id="Centro_de_Comunicaes_e_Informao_1"></a>Centro de Comunicações e Informação</h4>
<h6 class="code-line" data-line-start=3 data-line-end=4 ><a id="Desenvolvido_em_3"></a>Desenvolvido em</h6>
<p class="has-line-data" data-line-start="4" data-line-end="5"><a href="https://laravel.com/"><img src="data:image/png;base64,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" alt="Laravel|Solid"></a></p>
<p class="has-line-data" data-line-start="6" data-line-end="7"><a href="http://intranet.exercito.local/"><img src="https://travis-ci.org/joemccann/dillinger.svg?branch=master" alt="Build Status"></a></p>
<p class="has-line-data" data-line-start="8" data-line-end="10">Esta aplicação permite a marcação de refeições, a consulta de estatisticas, o pedido de refeições para<br>
elementos externos, entre outros.</p>
<h2 class="code-line" data-line-start=11 data-line-end=12 ><a id="Funcionalidades_11"></a>Funcionalidades</h2>
<ul>
<li class="has-line-data" data-line-start="13" data-line-end="14">Publicação de ementas via um ficheiro EXCEL.</li>
<li class="has-line-data" data-line-start="14" data-line-end="15">Gestão e actualização da informação dos utilizadores via um ficheiro EXCEL.</li>
<li class="has-line-data" data-line-start="15" data-line-end="16">Criação de hóspedes e marcação de refeições para os mesmos nas messes militares.</li>
<li class="has-line-data" data-line-start="16" data-line-end="17">Pedidos de refeições quantitativos para elementos externos (ex: candidatos)-</li>
<li class="has-line-data" data-line-start="17" data-line-end="18">Gestão de permissões para grupos de utilizadores (SecPess, SecLog, SecAlim, etc…)-</li>
<li class="has-line-data" data-line-start="18" data-line-end="19">Consulta de estatísticas (consoante o nivel de permissões) dos locais de refeição.</li>
<li class="has-line-data" data-line-start="19" data-line-end="20">Personalização de conta.</li>
<li class="has-line-data" data-line-start="20" data-line-end="21">Herdar utilizadores para gestão e marcação de refeição para os mesmos.</li>
<li class="has-line-data" data-line-start="21" data-line-end="22">Definir periodos de marcação e remoção de marcações.</li>
<li class="has-line-data" data-line-start="22" data-line-end="23">Distribuíção automatica de emails numa alteração de ementa.</li>
<li class="has-line-data" data-line-start="23" data-line-end="24">Bloqueio de contas, e impedimento de marcação de refeições.</li>
<li class="has-line-data" data-line-start="24" data-line-end="25">Criação de relatórios PDF, optimizados para impressão.</li>
<li class="has-line-data" data-line-start="25" data-line-end="26">Entre outras…</li>
</ul>
<h2 class="code-line" data-line-start=28 data-line-end=29 ><a id="Tecnologia_28"></a>Tecnologia</h2>
<p class="has-line-data" data-line-start="30" data-line-end="31">Dillinger uses a number of open source projects to work properly:</p>
<ul>
<li class="has-line-data" data-line-start="32" data-line-end="33"><a href="https://laravel.com/">Laravel 8.45.1</a> - Framework de back-end e acesso a DB.</li>
<li class="has-line-data" data-line-start="33" data-line-end="34"><a href="https://www.php.net/">PHP 8.0.2</a> - Linguagem de programação utilizada para servidor.</li>
<li class="has-line-data" data-line-start="34" data-line-end="35"><a href="https://mariadb.org/">MariaDB 10.5</a> - MariaDB é um SGDB que surgiu como fork do MySQL.</li>
<li class="has-line-data" data-line-start="35" data-line-end="36"><a href="https://adminlte.io/">AdminLTE 3.0</a> - Template HTML responsivo para ser utilizado em painéis administrativos.</li>
<li class="has-line-data" data-line-start="36" data-line-end="37"><a href="https://jquery.com/">jQuery 3.4.1</a> - jQuery é uma biblioteca de funções JavaScript que interage com o HTML, desenvolvida para simplificar os scripts interpretados no navegador do cliente.</li>
<li class="has-line-data" data-line-start="37" data-line-end="38"><a href="https://getbootstrap.com/docs/3.3/">BootStrap 3</a> - Bootstrap é um framework web com código-fonte aberto para desenvolvimento de componentes de interface.</li>
<li class="has-line-data" data-line-start="38" data-line-end="39"><a href="https://github.com/barryvdh/laravel-dompdf">barryvdh/laravel-dompdf 0.9.0</a> - Criação de ficheiros PDF a partir de uma página HTML.</li>
<li class="has-line-data" data-line-start="39" data-line-end="41"><a href="https://github.com/Maatwebsite/Laravel-Excel">maatwebsite/excel 3.1.31</a> - Leitura de ficheiros EXCEL.</li>
</ul>
<h2 class="code-line" data-line-start=41 data-line-end=42 ><a id="Installation_41"></a>Installation</h2>
<p class="has-line-data" data-line-start="43" data-line-end="44">Esta aplicação requere <a href="https://getcomposer.org//">Composer</a> para a gestão de pacotes.</p>
<p class="has-line-data" data-line-start="45" data-line-end="46">Para uma instalação mais facil do servidor, é recomendado o instalador referenciado no Manual de Desenvolvimento.</p>
<h6 class="code-line" data-line-start=47 data-line-end=48 ><a id="Hospedagem_para_DEPLOY_47"></a>Hospedagem para DEPLOY</h6>
<h1 class="code-line" data-line-start=48 data-line-end=49 ><a id="_48"></a></h1>
<pre><code class="has-line-data" data-line-start="50" data-line-end="92">-Copie todo o conteúdo da pasta C:\xampp\htdocs\
    para a pasta C:\xampp\migration\app\files\htdocs\

- Abra a aplicação HeidiSQL, e no painel á esquerda,
    com o botao direito do rato em cima da base de dados
    ‘cmdpessunap_alim_manager’, e selecione a opção
    ‘Exportar base de dados como SQL’;

- Selecione DATABASE(s) e TABLE(s) em ‘CREATE’,
    DATA como ‘Insert ignore’, Max INSERT size em ‘1024’,
    o OUTPUT como ‘Single .sql le’, e por ultimo,
    e Nome de cheiro, clique na pasta à direita,
    e guarde num dispositivo USB;

- Clique em ‘Guardar’, e de seguida em ‘Exportar’;

- Copie a pasta C:\xampp\migration\app para o mesmo
    dispostivo USB, e leve esse dispositivo USB para a nova
    máquina;

- Na nova maquina, aceda ao dispositivo USB, e corra o executavél
    numa conta com direitos de admistrador;

- Neste processo, o sistema irá reiniciar várias vezes. Sempre que
    reiníciar, abra novamente o executável, o processo de
    setup irá continuar;

- Preste atenção às indicações dadas pelo o programa, como desactivar
    a instalação de MySQL quando estiver a instalar o XAMPP, a
    password do sistema MariaDB e de activar o acesso remoto.
    Faça o procedimento inteiro, no final irá abrir-lhe o sistema XAMPP
    já com a configuração correcta, com a plataforma hospedada,
    no entanto, falta importar a base de dados.

- Na nova máquina, abra o HeidiSQL (terá sido instalado pela ferramenta
    de migração automática), inicie sessão com as credenciais ROOT,
    e de seguida, na barra superior, carrega em ‘Ficheiro’ &gt; ‘Run SQL
    File’. Confirme que as tabelas foram criadas e populadas.
    Se o processo estiver feito correctamente, a aplicação já estará
    disponível no endereço:
    (IP DA NOVA MAQUINA):81/alim
</code></pre>
<h6 class="code-line" data-line-start=93 data-line-end=94 ><a id="Hospedagem_para_DEBUG_93"></a>Hospedagem para DEBUG</h6>
<h1 class="code-line" data-line-start=94 data-line-end=95 ><a id="_94"></a></h1>
<pre><code class="has-line-data" data-line-start="97" data-line-end="106" class="language-cmd">- Faça os procedimentos acima, mas encerre o XAMPP.
    De seguida, abra uma janela de linha de comandos (<span class="hljs-built_in">cmd</span>.exe) e insira os seguintes comandos:
        <span class="hljs-built_in">cd</span> C:\xampp\htdocs\alim
        php artisan serve --host=(IP DA MAQUINA)

- Se não souber o IP da máquina actual, pode consultar também no <span class="hljs-built_in">CMD</span> com o comando: <span class="hljs-winutils">ipconfig</span>

- Executando o comando SERVE, irá ser iniciado um servidor de desenvolvimento local.
</code></pre>
<h2 class="code-line" data-line-start=107 data-line-end=108 ><a id="Comandos_ARTISAN_107"></a>Comandos ARTISAN</h2>
<p class="has-line-data" data-line-start="109" data-line-end="110">Aqui dispoêm uma lista dos comandos mais uteis para DEBUG da aplicação.</p>
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Comando</th>
<th>Funcionalidade</th>
</tr>
</thead>
<tbody>
<tr>
<td>php artisan optimize:clear</td>
<td>Limpa a cache da aplicação (do dirétorio ‘storage’).</td>
</tr>
<tr>
<td>php artisan config:cache</td>
<td>Cria um ficheiro cache da configuração de pacotes.</td>
</tr>
<tr>
<td>php artisan key:generate</td>
<td>Cria uma nova chave de encriptação de Session e Cookies.</td>
</tr>
<tr>
<td>php artisan down</td>
<td>Coloca a aplicação em modo de manutenção. Os utilizadores não iram conseguir aceder.</td>
</tr>
<tr>
<td>php artisan up</td>
<td>Retira a aplicação do modo de manutenção. Os utilizadores voltam a conseguir aceder.</td>
</tr>
<tr>
<td>php artisan tinker</td>
<td>Permite executar código PHP a partir do terminal, interagindo com a aplicação.</td>
</tr>
<tr>
<td>php artisan route:cache</td>
<td>Cria um ficheiro de cache das routes para um acesso mais rápido.</td>
</tr>
</tbody>
</table>
<h2 class="code-line" data-line-start=121 data-line-end=122 ><a id="Segurana_aplicacional_121"></a>Segurança aplicacional</h2>
<p class="has-line-data" data-line-start="123" data-line-end="126">A aplicação utiliza vários tipos de encriptação e criptografia para garantir<br>
a segurança dos dados dos utilizadores.<br>
Aqui dispôem de uma lista dos principais elementos a ser encriptados\criptografados</p>
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Elemento</th>
<th>Criptografia</th>
<th>Encriptação</th>
<th>Codificação</th>
</tr>
</thead>
<tbody>
<tr>
<td>Variáveis de sessão e Pedidos</td>
<td>OpenSSL</td>
<td>AES-256-CBC</td>
<td>✗</td>
</tr>
<tr>
<td>Cookies</td>
<td>✗</td>
<td>SHA-256</td>
<td>✗</td>
</tr>
<tr>
<td>Passwords e tokens</td>
<td>BCrypt</td>
<td>Argon2</td>
<td>✗</td>
</tr>
<tr>
<td>Referencias e outros</td>
<td>✗</td>
<td>CRC326</td>
<td>✗</td>
</tr>
<tr>
<td>Páginas HTML</td>
<td>✗</td>
<td>✗</td>
<td>base64 encoding</td>
</tr>
</tbody>
</table>
<blockquote>
<p class="has-line-data" data-line-start="136" data-line-end="138">Nota: Aplicação integrada de migração apenas irá migrar a aplicação<br>
de Gestão de Refeições, NÃO irá migrar outras aplicações no servidor interno de gestão</p>
</blockquote>
<p class="has-line-data" data-line-start="139" data-line-end="141">Para verificar que tudo foi migrado com sucesso, abra o browser no mesmo computador<br>
e insira um dos seguintes link:</p>
<pre><code class="has-line-data" data-line-start="143" data-line-end="147" class="language-sh">- <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">81</span>/alim
- (IP DA MÁQUINA):<span class="hljs-number">81</span>/alim
- LOCALHOST:<span class="hljs-number">81</span>/alim
</code></pre>
<h5 class="code-line" data-line-start=148 data-line-end=149 ><a id="Unidade_de_Apoio_do_Comando_do_Pessoal__Exrcito_Portugus_148"></a>Unidade de Apoio do Comando do Pessoal - Exército Português</h5>
